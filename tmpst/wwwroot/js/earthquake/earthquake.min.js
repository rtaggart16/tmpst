function submitEarthquakeRequest(){let n=$("#"+requestType+"-type-select").val(),t=Swal.fire({type:"warning",title:"Processing Data",html:'<i class="fas fa-spinner fa-spin fa-2x"><\/i>'});$.ajax({type:"GET",url:n,contentType:"application/vnd.geo+json",success:function(n){n.features.length>0?(createClusterMap(n.features),$("#earthquake-wizard-arrow-up").click().promise().done(function(){t.close();$("#earthquake-cluster-map-container").fadeIn(300)}),n.dismiss===Swal.DismissReason.timer):Swal.fire({type:"warning",title:"No Data",text:"No "+requestType+" earthquakes have been found. Please try another time"})},error:function(n){n.statusText=="error"&&Swal.fire({type:"error",title:"Data Request Error",text:"An error has occurred when submitting your request. Please try again with different criteria"})}})}function viewCountryInfo(n,t){let i="https://secure.geonames.org/countryCode?type=JSON&lat="+n+"&lng="+t+"&username=tmpst";$.ajax({type:"GET",url:i,dataType:"jsonp",success:function(n){$.ajax({type:"GET",url:"https://restcountries.eu/rest/v2/alpha/"+n.countryCode,dataType:"json",success:function(n){clearEarthquakeCountryInfo();openNewWindow(n)},error:function(){Swal.fire({type:"error",title:"No Country Information",text:"Unfortunately, we could not find country information for the chosen area. Please try another"})}})},error:function(){}})}function openNewWindow(n){let t=n;if(window.globalCountryInfo=t,typeof countryInfoWindow=="undefined"||countryInfoWindow.closed)window.isBuilt=!1,countryInfoWindow=window.open(""),countryInfoWindow.document.write('<html><head><script src="../../../../../../lib/jquery/jquery-3.3.1.min.js" async><\/script><title>Country Info<\/title><script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous" defer><\/script><script src="../../../../../lib/bootstrap/js/bootstrap.js" defer><\/script><link rel="stylesheet" href="../../../../../../../lib/bootstrap/css/bootstrap.css" /><link href="../../../../../css/Earthquake/countryInfo.css" rel="stylesheet" /><script src="../../../../../../js/general/map.js"><\/script><script defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyB6yo58EUHrSdjTIMKz_lP2jt77KE-NfOI&callback=initMap"><\/script ><\/head><body>'),countryInfoWindow.document.write('<body><div style="display:none" id="country-info-container"><\/div><button id="refresh-btn" style="display:none"><\/button><\/body><script src="../../../../../../js/earthquake/countryInfo.js" defer><\/script><\/html>'),countryInfoWindow.document.close();else{let n=countryInfoWindow.document.getElementById("refresh-btn");$(n).click()}}let requestType="hourly",allSelects=$("#hourly-type-select").add($("#daily-type-select")).add($("#weekly-type-select")).add($("#monthly-type-select")),countryInfoWindow;$("#earthquake-collapse-expand").click(function(){$("#earthquake-wizard-container").slideToggle("slow",function(){$("#earthquake-wizard-container").is(":visible")?$("#earthquake-wizard-arrow-down").fadeOut().promise().done(function(){$("#earthquake-wizard-arrow-up").fadeIn();$("#earthquake-wizard-collapsed-title").fadeOut()}):$("#earthquake-wizard-arrow-up").fadeOut().promise().done(function(){$("#earthquake-wizard-arrow-down").fadeIn();$("#earthquake-wizard-collapsed-title").fadeIn()})})});$("#occurence-type-select").on("change",function(){requestType=$("#occurence-type-select").val();allSelects.fadeOut(300).promise().done(function(){$("#"+requestType+"-type-select").fadeIn(300)})});