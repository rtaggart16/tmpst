function submitEarthquakeRequest(){let n=$("#"+requestType+"-type-select").val();console.log(n);$.ajax({type:"GET",url:n,contentType:"application/vnd.geo+json",success:function(n){console.log("AJAX Response: ",n);n.features.length>0?(Swal.fire({type:"warning",title:"Processing Data",html:'<i class="fas fa-spinner fa-spin fa-2x"><\/i>',timer:1500}),setTimeout(function(){createClusterMap(n.features)},100),$("#earthquake-wizard-arrow-up").click().promise().done(function(){$("#earthquake-cluster-map-container").fadeIn(300)}),n.dismiss===Swal.DismissReason.timer):Swal.fire({type:"warning",title:"No Data",text:"There is no data available for your request. Please submit another request"})},error:function(n){console.log("ERROR: ",n.statusText);n.statusText=="error"&&Swal.fire({type:"error",title:"Data Request Error",text:"An error has occurred when submitting your request. Please try again with different criteria"})}})}function viewCountryInfo(n,t){console.log("Lat Object ",n);console.log("Lon Object ",t);let i="https://secure.geonames.org/countryCode?type=JSON&lat="+n+"&lng="+t+"&username=tmpst";$.ajax({type:"GET",url:i,dataType:"jsonp",success:function(n){console.log("AJAX Result: ",n);$.ajax({type:"GET",url:"https://restcountries.eu/rest/v2/alpha/"+n.countryCode,dataType:"json",success:function(n){clearEarthquakeCountryInfo();console.log("Country Result: ",n);createCountrySummary(n);createCountryMapAndFlag(n);createCountryInfoTable(n);displayCountryInfoPage()},error:function(){Swal.fire({type:"error",title:"No Country Information",text:"Unfortunately, we could not find country information for the chosen area. Please try another"})}})},error:function(n){console.log("ERROR: ",n.statusText)}})}function createCountrySummary(n){let t=n.name+" is a country which is part of "+n.region+". "+n.name+" is also part of the subregion "+n.subregion+". ";n.altSpellings.length>0&&(t+=n.name+" is also called ",$.each(n.altSpellings,function(i,r){t+=i+1==n.altSpellings.length?r+". ":r+", "}));t+=n.name+"'s native name is "+n.nativeName;$("#country-information-summary").text(t)}function createCountryMapAndFlag(n){$("#country-flag-container").append('<img class="img-fluid" src="'+n.flag+'" />');initMap(n.latlng[0],n.latlng[1],n.name,"country-capital-map")}function createCountryInfoTable(n){let r=n.capital,u=n.population,t="";n.currencies.length>0&&$.each(n.currencies,function(i,r){if(i+1==n.currencies.length){let n=r.name+" ("+r.symbol+")";t+=n}else{let n=r.name+" ("+r.symbol+"), ";t+=n}});let f=n.demonym,i="";n.languages.length>0&&$.each(n.languages,function(t,r){if(t+1==n.currencies.length){let n=r.name+" ("+r.nativeName+")";i+=n}else{let n=r.name+" ("+r.nativeName+"), ";i+=n}});$("#country-info-tbl-body").append("<tr><td><strong>Capital<\/strong><\/td><td>"+r+"<\/td><\/tr><tr><td><strong>Population<\/strong><\/td><td>"+u+"<\/td><\/tr><tr><td><strong>Currencies<\/strong><\/td><td>"+t+"<\/td><\/tr><tr><td><strong>Demonym<\/strong><\/td><td>"+f+"<\/td><\/tr><tr><td><strong>Languages<\/strong><\/td><td>"+i+"<\/td><\/tr>")}let requestType="hourly",allSelects=$("#hourly-type-select").add($("#daily-type-select")).add($("#weekly-type-select")).add($("#monthly-type-select"));$("#earthquake-collapse-expand").click(function(){$("#earthquake-wizard-container").slideToggle("slow",function(){$("#earthquake-wizard-container").is(":visible")?$("#earthquake-wizard-arrow-down").fadeOut().promise().done(function(){$("#earthquake-wizard-arrow-up").fadeIn();$("#earthquake-wizard-collapsed-title").fadeOut()}):$("#earthquake-wizard-arrow-up").fadeOut().promise().done(function(){$("#earthquake-wizard-arrow-down").fadeIn();$("#earthquake-wizard-collapsed-title").fadeIn()})})});$("#occurence-type-select").on("change",function(){console.log($("#occurence-type-select").val());requestType=$("#occurence-type-select").val();allSelects.fadeOut(300).promise().done(function(){$("#"+requestType+"-type-select").fadeIn(300)})});